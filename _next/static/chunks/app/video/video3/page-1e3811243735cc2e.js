(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{78:function(e,t,n){Promise.resolve().then(n.bind(n,9445))},9445:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7437),u=n(2265),c=n(3915),s=n(7776),o=n(6089);let l=e=>{let{src:t,volume:n}=e,l=(0,u.useMemo)(()=>{let e=document.createElement("video");return e.crossOrigin="anonymous",e.playsInline=!0,e.loop=!0,e},[]),a=(0,u.useMemo)(()=>new s.VideoTexture(l),[l]),i=(0,u.useMemo)(()=>{let e=new c.ZP;return e.attachMedia(l),e},[l]);(0,u.useEffect)(()=>()=>{i.destroy()},[i]);let d=(0,u.useRef)(null),f=(0,u.useRef)(null),m=(0,u.useRef)(null);return(0,u.useEffect)(()=>{let e=()=>{null===d.current&&(d.current=new AudioContext,f.current=d.current.createGain(),m.current=d.current.createMediaElementSource(l),m.current.connect(f.current),f.current.connect(d.current.destination),f.current.gain.value=n,console.log("connected")),console.log("audioContextRef.current.state: ",d.current.state),d.current.resume(),l.play()};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}},[n,l]),(0,u.useEffect)(()=>{null!==f.current&&(f.current.gain.value=n,console.log("volume changed: ",n))},[n]),(0,u.useEffect)(()=>(c.ZP.isSupported()?(i.loadSource(t),console.log("Hls.js")):console.error("HLS is not supported."),()=>{l.pause()}),[l,i,t]),(0,r.jsx)(o.JO,{args:[16,9],children:(0,r.jsx)("meshBasicMaterial",{map:a})})};var a=n(7585),i=n(381),d=n.n(i);function f(){(0,u.useEffect)(()=>{new(d())},[]);let[e,t]=(0,u.useState)(.5),[n,c]=(0,u.useState)(!0);return(0,u.useEffect)(()=>{let e=()=>{n&&(c(!n),console.log("muted: ",!n))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"range",min:0,max:1,step:.01,value:e,onChange:e=>{t(parseFloat(e.target.value))}}),(0,r.jsx)("div",{style:{height:"95dvh"},children:(0,r.jsx)(a.Xz,{children:(0,r.jsx)(l,{src:"https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8",volume:e,muted:n})})})]})}}},function(e){e.O(0,[104,689,404,540,971,23,744],function(){return e(e.s=78)}),_N_E=e.O()}]);